<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau de Correspondance par Domaines de Comp√©tences</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f8f9fa;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #F87171 0%, #FBBF24 100%); /* Red to Yellow Gradient */
            color: white;
            padding: 25px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0;
            font-size: 24px;
            font-weight: 600;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }
        
        .header p {
            margin: 8px 0 0 0;
            opacity: 0.9;
            font-size: 14px;
        }
        
        .legend {
            background: #f1f3f4;
            padding: 15px 25px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .legend h3 {
            margin: 0 0 10px 0;
            color: #333;
            font-size: 16px;
        }
        
        .legend-items {
            display: flex;
            gap: 15px 25px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: #555;
        }
        .legend-color-box {
            width: 16px;
            height: 16px;
            border-radius: 4px;
            border: 1px solid rgba(0,0,0,0.1);
        }
        
        .table-container {
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 12px;
        }
        
        th {
            background: #4A5568; /* Darker Gray */
            color: white;
            padding: 12px 8px;
            text-align: center;
            font-weight: 600;
            font-size: 11px;
            line-height: 1.3;
            min-width: 80px;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        th.activity-col {
            background: #2D3748; /* Even Darker Gray */
            text-align: left;
            min-width: 300px;
            left: 0;
            z-index: 11;
        }
        
        td {
            padding: 10px 8px;
            text-align: center;
            border-bottom: 1px solid #e9ecef;
            vertical-align: middle;
        }
        
        td.activity-cell {
            text-align: left;
            font-weight: 500;
            background: #fff;
            border-right: 2px solid #dee2e6;
            position: sticky;
            left: 0;
            z-index: 5;
        }
        
        a.activity-link {
            color: #0D9488; /* Dark Turquoise */
            text-decoration: none;
            font-weight: 600;
        }
        a.activity-link:hover {
            text-decoration: underline;
            cursor: pointer;
        }

        .domain-header-row {
            font-weight: bold;
        }
        .domain-header-row td {
            padding: 12px 10px;
            text-align: left;
            font-size: 14px;
            color: #2D3748;
        }
        .domain-question {
            font-style: italic;
            font-weight: normal;
            color: #555;
            margin-left: 5px;
            font-size: 13px;
        }
        
        /* Domain Colors - LS4Y Palette */
        .bg-personnalite { background-color: #99F6E4; } /* Light Turquoise */
        .bg-autopromotion { background-color: #FEF08A; } /* Light Yellow */
        .bg-bienetre { background-color: #A7F3D0; } /* Light Green/Turquoise */
        .bg-finances { background-color: #FECACA; } /* Light Red */
        .bg-action { background-color: #F87171; color: white; } /* Strong Red */
        .bg-action .domain-question { color: #FFD2D2; }


        tr:hover .activity-cell, tr:hover > td {
            background-color: #F0FDFA; /* Very light turquoise for hover */
        }
        
        .check-mark {
            color: #16A34A; /* Green */
            font-size: 16px;
            font-weight: bold;
        }
        
        .modality-icons {
            display: flex;
            justify-content: center;
            gap: 4px;
            margin-top: 4px;
        }
        
        .icon { font-size: 14px; padding: 2px; }
        
        .footer {
            background: #f1f3f4;
            padding: 20px 25px;
            text-align: center;
            color: #666;
            font-size: 12px;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5);
        }
        .modal-content {
            background-color: #fefefe;
            margin: 10% auto;
            padding: 0;
            border: 1px solid #888;
            width: 80%;
            max-width: 600px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            animation-name: animatetop;
            animation-duration: 0.4s;
        }
        @keyframes animatetop {
            from {top: -300px; opacity: 0}
            to {top: 0; opacity: 1}
        }
        .modal-header {
            padding: 16px;
            background-color: #2DD4BF; /* Turquoise */
            color: white;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
        }
        .modal-header h2 {
            margin: 0;
            font-size: 1.25rem;
        }
        .close-button {
            color: white;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close-button:hover,
        .close-button:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }
        .modal-body {
            padding: 20px;
            line-height: 1.6;
        }
        .modal-body p {
            margin-bottom: 12px;
        }
        .modal-body ul {
            list-style-position: inside;
            padding-left: 10px;
            margin-top: 5px;
        }
        .modal-section-title {
            font-weight: bold;
            color: #333;
            margin-top: 15px;
        }
        
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Tableau de Correspondance par Domaines de Comp√©tences</h1>
            <p>Guide de r√©f√©rence pour l'accompagnement des jeunes</p>
        </div>
        
        <div class="legend">
            <h3>L√©gende</h3>
            <div class="legend-items">
                <div class="legend-item"><span class="legend-color-box bg-personnalite"></span><span>‚ù§Ô∏è‚Äçü©π Personnalit√©</span></div>
                <div class="legend-item"><span class="legend-color-box bg-autopromotion"></span><span>üì¢ Auto-promotion</span></div>
                <div class="legend-item"><span class="legend-color-box bg-bienetre"></span><span>üßò Bien-√™tre</span></div>
                <div class="legend-item"><span class="legend-color-box bg-finances"></span><span>üí∞ Finances & Ressources</span></div>
                <div class="legend-item"><span class="legend-color-box bg-action" style="color:black;"></span><span>üöÄ Passage √† l'action</span></div>
                <div class="legend-item"><span class="icon">üë§</span><span>Individuel</span></div>
                <div class="legend-item"><span class="icon">üë•</span><span>Collectif</span></div>
                <div class="legend-item"><span class="icon">üí°</span><span>Autonomie</span></div>
            </div>
        </div>
        
        <div class="table-container">
            <table id="activities-table">
                <thead>
                    <tr>
                        <th class="activity-col">Activit√©</th>
                        <th>Premier<br>accueil</th>
                        <th>Diagnostic<br>CEJ</th>
                        <th>D√©finition<br>du projet</th>
                        <th>Orientation</th>
                        <th>Insertion pro /<br>emploi</th>
                        <th>Formation</th>
                        <th>Alternance</th>
                        <th>Mobilit√©<br>locale</th>
                        <th>Mobilit√©<br>internationale</th>
                        <th>Logement</th>
                        <th>Sant√© /<br>bien-√™tre</th>
                        <th>Acc√®s aux<br>droits</th>
                        <th>Comp√©tences<br>psychosociales</th>
                        <th>Citoyennet√© /<br>engagement</th>
                        <th>Suivi / √©volution<br>du parcours</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Content will be generated by JavaScript -->
                </tbody>
            </table>
        </div>
        <div class="footer">
            <p>Ce tableau est un outil d'aide √† la d√©cision pour les conseillers. Les correspondances sont des recommandations et peuvent √™tre adapt√©es au profil de chaque jeune.</p>
        </div>
    </div>

    <!-- The Modal -->
    <div id="action-sheet-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <span class="close-button">&times;</span>
          <h2 id="modal-title"></h2>
        </div>
        <div class="modal-body" id="modal-body">
          <!-- Action sheet content goes here -->
        </div>
      </div>
    </div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // --- Data Definition ---
    const icons = {
        perso: 'üë§', collectif: 'üë•', autonomie: 'üí°', check: '‚úÖ',
        domaines: {
            personnalite: '‚ù§Ô∏è‚Äçü©π', autopromotion: 'üì¢', bienetre: 'üßò', finances: 'üí∞', action: 'üöÄ'
        }
    };

    const stages = {
        "ETAPE_1": {
            title: "√âTAPE 1 : Diagnostic / Accueil",
            tools: "üìä Grille LS initiale, üí¨ Diagnostic motivationnel, üß† √âvaluation sant√© mentale."
        },
        "ETAPE_2": {
            title: "√âTAPE 2 : Remobilisation",
            tools: "üí° Ateliers Life Skills, ü§ù Activit√© collective, üíª Plateforme."
        },
        "ETAPE_3": {
            title: "√âTAPE 3 : Exploration / Orientation",
            tools: "üó∫Ô∏è Outils du guidebook, üíº Ateliers m√©tiers, üé¨ Capsules vid√©o."
        },
        "ETAPE_4": {
            title: "√âTAPE 4 : Mise en action / Formation",
            tools: "üìö Module guidebook, ‚úÖ Grille de suivi, üìà √âvaluation avec r√©f√©rent."
        },
        "ETAPE_5": {
            title: "√âTAPE 5 : Autonomisation / Suivi",
            tools: "üíª Plateforme LS4YOU, üìä Grille LS interm√©diaire et finale, üèÜ Portfolio."
        }
    };

    const domains = [
        {
            name: `${icons.domaines.personnalite} Personnalit√©`, question: "Qui suis-je ?", colorClass: "bg-personnalite",
            activities: [
                { code: "1.1", name: "Test des 16 personnalit√©s", objective: "üé≠ Ouvrir le dialogue sur les pr√©f√©rences et forces.", stage: stages.ETAPE_1, links: { 'Diagnostic CEJ': [icons.perso, icons.autonomie], 'D√©finition du projet': [icons.perso], 'Comp√©tences psychosociales': [icons.perso] } },
                { code: "1.2", name: "Faire valoir un point", objective: "üó∫Ô∏è Identifier et organiser les comp√©tences et int√©r√™ts.", stage: stages.ETAPE_1, links: { 'Premier accueil': [icons.perso], 'Diagnostic CEJ': [icons.perso], 'D√©finition du projet': [icons.perso], 'Suivi / √©volution du parcours': [icons.perso] } },
                { code: "1.3", name: "Image de soi vs. Perception externe", objective: "Confronter la perception de soi √† celle des autres pour renforcer l'estime de soi.", stage: stages.ETAPE_2, links: { 'D√©finition du projet': [icons.perso, icons.collectif], 'Insertion pro / emploi': [icons.collectif], 'Comp√©tences psychosociales': [icons.collectif] } },
                { code: "1.4", name: "Recevoir du feedback", objective: "Apprendre √† recevoir et utiliser les critiques constructives pour s'am√©liorer.", stage: stages.ETAPE_5, links: { 'Insertion pro / emploi': [icons.perso, icons.collectif], 'Comp√©tences psychosociales': [icons.collectif], 'Suivi / √©volution du parcours': [icons.perso] } },
                { code: "1.5", name: "D√©finition d'objectifs personnels", objective: "D√©finir des objectifs personnels et professionnels clairs et r√©alisables.", stage: stages.ETAPE_3, links: { 'Diagnostic CEJ': [icons.perso], 'D√©finition du projet': [icons.perso, icons.autonomie], 'Suivi / √©volution du parcours': [icons.perso] } },
                { code: "1.6", name: "Liste de valeurs", objective: "Identifier les valeurs personnelles fondamentales pour aligner le projet professionnel.", stage: stages.ETAPE_3, links: { 'Diagnostic CEJ': [icons.perso], 'D√©finition du projet': [icons.perso, icons.collectif] } },
            ]
        },
        {
            name: `${icons.domaines.autopromotion} Auto-promotion`, question: "Comment valoriser ce que je suis et ce que je sais faire ?", colorClass: "bg-autopromotion",
            activities: [
                { code: "2.1", name: "Moi au sommet de mon art", objective: "Identifier les moments de r√©ussite pour prendre conscience de ses forces et comp√©tences.", stage: stages.ETAPE_2, links: { 'D√©finition du projet': [icons.perso, icons.collectif], 'Insertion pro / emploi': [icons.perso], 'Comp√©tences psychosociales': [icons.perso] } },
                { code: "2.2", name: "Montrez-vous sous votre meilleur jour", objective: "üé§ Structurer un discours percutant et confiant.", stage: stages.ETAPE_4, links: { 'Insertion pro / emploi': [icons.perso, icons.collectif], 'Alternance': [icons.collectif], 'Comp√©tences psychosociales': [icons.collectif] } },
                { code: "2.3", name: "Parcours Ressources et Comp√©tences", objective: "Cartographier le parcours du jeune pour identifier les comp√©tences acquises, formelles ou non.", stage: stages.ETAPE_1, links: { 'Diagnostic CEJ': [icons.perso], 'D√©finition du projet': [icons.perso], 'Insertion pro / emploi': [icons.perso], 'Suivi / √©volution du parcours': [icons.perso] } },
                { code: "2.4", name: "Image de marque personnelle", objective: "üë§ R√©fl√©chir √† l'image renvoy√©e et √† la valeur ajout√©e.", stage: stages.ETAPE_4, links: { 'Insertion pro / emploi': [icons.perso, icons.collectif, icons.autonomie], 'Alternance': [icons.perso, icons.autonomie] } },
                { code: "2.5", name: "Concevez votre zine", objective: "Permettre une expression cr√©ative de soi pour renforcer l'identit√© et la confiance.", stage: stages.ETAPE_2, links: { 'D√©finition du projet': [icons.perso, icons.collectif, icons.autonomie], 'Comp√©tences psychosociales': [icons.collectif], 'Citoyennet√© / engagement': [icons.collectif] } },
                { code: "2.6", name: "Jeu de Simulation (n√©gociation, vente)", objective: "ü§ù Pr√©parer aux situations de communication √† enjeu.", stage: stages.ETAPE_4, links: { 'Insertion pro / emploi': [icons.collectif], 'Alternance': [icons.collectif], 'Comp√©tences psychosociales': [icons.collectif] } }
            ]
        },
        {
            name: `${icons.domaines.bienetre} Bien-√™tre`, question: "Comment prendre soin de moi pour √™tre en capacit√© d'agir ?", colorClass: "bg-bienetre",
            activities: [
                { code: "3.1", name: "La Roue des √©motions", objective: "üé° Identifier, nommer et comprendre les √©motions.", stage: stages.ETAPE_1, links: { 'Sant√© / bien-√™tre': [icons.perso, icons.autonomie], 'Comp√©tences psychosociales': [icons.perso] } },
                { code: "3.2", name: "Trois bonnes choses", objective: "Pratiquer la gratitude pour am√©liorer le bien-√™tre et la vision positive.", stage: stages.ETAPE_2, links: { 'Sant√© / bien-√™tre': [icons.perso, icons.autonomie], 'Comp√©tences psychosociales': [icons.perso] } },
                { code: "3.3", name: "R√©seau de soutien social", objective: "Identifier les personnes et structures ressources dans son environnement.", stage: stages.ETAPE_1, links: { 'Diagnostic CEJ': [icons.perso], 'Sant√© / bien-√™tre': [icons.perso], 'Acc√®s aux droits': [icons.perso], 'Comp√©tences psychosociales': [icons.perso] } },
                { code: "3.4", name: "√âvaluation des besoins", objective: "Faire le point sur les besoins mat√©riels et financiers pour s√©curiser le parcours.", stage: stages.ETAPE_1, links: { 'Premier accueil': [icons.perso], 'Diagnostic CEJ': [icons.perso], 'Logement': [icons.perso], 'Sant√© / bien-√™tre': [icons.perso], 'Acc√®s aux droits': [icons.perso] } },
                { code: "3.5", name: "Stressom√®tre", objective: "üìà Prendre conscience du niveau de stress et de ses causes.", stage: stages.ETAPE_1, links: { 'Diagnostic CEJ': [icons.perso], 'Sant√© / bien-√™tre': [icons.perso, icons.autonomie], 'Comp√©tences psychosociales': [icons.perso] } },
                { code: "3.6", name: "Prioriser ses routines", objective: "üóìÔ∏è Mettre en place des habitudes saines.", stage: stages.ETAPE_5, links: { 'Sant√© / bien-√™tre': [icons.perso, icons.collectif], 'Suivi / √©volution du parcours': [icons.perso] } },
                { code: "3.7", name: "Arbre de la R√©silience", objective: "üå≥ Visualiser les ressources internes et externes.", stage: stages.ETAPE_2, links: { 'Sant√© / bien-√™tre': [icons.perso, icons.collectif], 'Comp√©tences psychosociales': [icons.perso] } },
                { code: "3.8", name: "Portfolio de d√©marcation", objective: "Cr√©er un support visuel pour pr√©senter ses comp√©tences et r√©alisations.", stage: stages.ETAPE_5, links: { 'Insertion pro / emploi': [icons.perso, icons.autonomie], 'Formation': [icons.perso], 'Alternance': [icons.perso] } }
            ]
        },
        {
            name: `${icons.domaines.finances} Finances & Ressources`, question: "Comment g√©rer mes ressources pour √™tre autonome ?", colorClass: "bg-finances",
            activities: [
                { code: "4.1", name: "D√©fis de la vie r√©elle", objective: "üé≤ Exp√©rimenter la gestion budg√©taire ludiquement.", stage: stages.ETAPE_5, links: { 'D√©finition du projet': [icons.collectif], 'Comp√©tences psychosociales': [icons.collectif] } },
                { code: "4.2", name: "Du salaire √† la poche", objective: "Comprendre une fiche de paie et la diff√©rence entre salaire brut et net.", stage: stages.ETAPE_5, links: { 'Insertion pro / emploi': [icons.collectif], 'Acc√®s aux droits': [icons.perso, icons.collectif] } },
                { code: "4.3", name: "Arr√™tez de souhaiter, commencez √† r√©aliser", objective: "üéØ Transformer un r√™ve en plan d'action concret.", stage: stages.ETAPE_4, links: { 'D√©finition du projet': [icons.perso, icons.autonomie], 'Suivi / √©volution du parcours': [icons.perso] } },
                { code: "4.4", name: "Litt√©ratie financi√®re - √âtudes de cas", objective: "üí°üí∞ R√©soudre des probl√®mes financiers concrets.", stage: stages.ETAPE_3, links: { 'D√©finition du projet': [icons.collectif], 'Orientation': [icons.collectif], 'Formation': [icons.collectif] } }
            ]
        },
        {
            name: `${icons.domaines.action} Passage √† l'action`, question: "Comment atteindre mes objectifs ?", colorClass: "bg-action",
            activities: [
                 { code: "5.1", name: "Ikigai - Concevez-vous", objective: "Aider le jeune √† trouver un √©quilibre entre ce qu'il aime, ce pour quoi il est dou√© et ce dont le monde a besoin.", stage: stages.ETAPE_3, links: { 'Diagnostic CEJ': [icons.perso], 'D√©finition du projet': [icons.perso, icons.collectif, icons.autonomie], 'Orientation': [icons.perso] } }
            ]
        }
    ];

    // --- Table & Modal Generation ---
    const tableBody = document.querySelector("#activities-table tbody");
    const headers = Array.from(document.querySelectorAll("#activities-table thead th")).slice(1).map(th => th.innerHTML.replace('<br>', ' '));
    const activitiesMap = new Map();

    domains.forEach(domain => {
        const domainRow = tableBody.insertRow();
        domainRow.className = `domain-header-row ${domain.colorClass}`;
        const domainCell = domainRow.insertCell();
        domainCell.colSpan = headers.length + 1;
        domainCell.innerHTML = `${domain.name} <span class="domain-question">${domain.question}</span>`;

        domain.activities.forEach(activity => {
            activitiesMap.set(activity.code, { ...activity, domainName: domain.name });
            const row = tableBody.insertRow();
            let rowHTML = `<td class="activity-cell"><a href="#" class="activity-link" data-code="${activity.code}"><strong>${activity.code}</strong> - ${activity.name}</a></td>`;
            
            headers.forEach(header => {
                const link = activity.links[header];
                let cellContent = '';
                if (link && Array.isArray(link)) {
                    const iconSpans = link.map(icon => `<span class="icon">${icon}</span>`).join('');
                    cellContent = `<span class="check-mark">${icons.check}</span><div class="modality-icons">${iconSpans}</div>`;
                }
                rowHTML += `<td>${cellContent}</td>`;
            });
            row.innerHTML = rowHTML;
        });
    });

    // --- Modal Logic ---
    const modal = document.getElementById("action-sheet-modal");
    const modalTitle = document.getElementById("modal-title");
    const modalBody = document.getElementById("modal-body");
    const closeButton = document.querySelector(".close-button");

    tableBody.addEventListener('click', function(event) {
        const link = event.target.closest('.activity-link');
        if (link) {
            event.preventDefault();
            const code = link.dataset.code;
            const activityData = activitiesMap.get(code);
            if (activityData) {
                openModal(activityData);
            }
        }
    });

    function openModal(data) {
        modalTitle.innerHTML = `Fiche Action: ${data.code} - ${data.name}`;
        
        let bodyContent = `<p><strong class="modal-section-title">Domaine :</strong> ${data.domainName}</p>`;
        bodyContent += `<p><strong class="modal-section-title">Objectif Cl√© de l'Activit√© :</strong> ${data.objective}</p>`;
        bodyContent += `<hr style="margin: 15px 0;">`;
        bodyContent += `<p><strong class="modal-section-title">${data.stage.title}</strong></p>`;
        bodyContent += `<p><strong>Outils LS4YOU Sugg√©r√©s :</strong> ${data.stage.tools}</p>`;
        
        bodyContent += `<br><p><em>Le contenu d√©taill√© de la fiche action (d√©roul√©, mat√©riel, etc.) sera affich√© ici.</em></p>`;
        
        modalBody.innerHTML = bodyContent;
        modal.style.display = "block";
    }

    function closeModal() {
        modal.style.display = "none";
    }

    closeButton.onclick = closeModal;
    window.onclick = function(event) {
        if (event.target == modal) {
            closeModal();
        }
    }
});
</script>

</body>
</html>
